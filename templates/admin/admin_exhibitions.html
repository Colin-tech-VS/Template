{% extends "admin/base_admin.html" %}

{% block title %}Expositions - Admin{% endblock %}

{% block admin_content %}

<!-- PAGE HEADER -->
<div class="admin-page-header">
    <div class="admin-page-header-left">
        <h2 class="admin-page-title">üé≠ Expositions</h2>
        <p class="admin-page-subtitle">{{ exhibitions|length }} exposition{{ 's' if exhibitions|length > 1 else '' }} enregistr√©e{{ 's' if exhibitions|length > 1 else '' }}</p>
    </div>
    <div class="admin-page-actions">
        <a href="{{ url_for('add_exhibition') }}" class="admin-btn admin-btn-primary">+ Ajouter une exposition</a>
    </div>
</div>

<!-- EXHIBITIONS LIST -->
{% if exhibitions %}
<div class="admin-card">
    <div class="admin-table-container">
        <table class="admin-table">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Titre</th>
                    <th>Lieu</th>
                    <th>Date</th>
                    <th>Horaires</th>
                    <th>Organisateur</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody>
                {% for exhibition in exhibitions %}
                <tr>
                    <td><strong>#{{ exhibition.id }}</strong></td>
                    <td>{{ exhibition.title }}</td>
                    <td>{{ exhibition.location }}</td>
                    <td>{{ exhibition.date }}</td>
                    <td>
                        {% if exhibition.start_time %}
                        {{ exhibition.start_time }}{% if exhibition.end_time %} - {{ exhibition.end_time }}{% endif %}
                        {% else %}
                        -
                        {% endif %}
                    </td>
                    <td>{{ exhibition.organizer if exhibition.organizer else '-' }}</td>
                    <td>
                        <div style="display: flex; gap: 8px;">
                            <a href="{{ url_for('edit_exhibition', exhibition_id=exhibition.id) }}" class="admin-btn admin-btn-secondary" style="padding: 6px 12px; font-size: 0.85rem;">‚úèÔ∏è √âditer</a>
                            <form action="{{ url_for('remove_exhibition', exhibition_id=exhibition.id) }}" method="POST" style="display: inline;" onsubmit="return confirm('√ätes-vous s√ªr ?');">
                                <button type="submit" class="admin-btn admin-btn-danger" style="padding: 6px 12px; font-size: 0.85rem;">üóëÔ∏è Supprimer</button>
                            </form>
                        </div>
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>
{% else %}
<div class="admin-empty-state">
    <div class="admin-empty-icon">üé≠</div>
    <h3 class="admin-empty-title">Aucune exposition</h3>
    <p class="admin-empty-message">Commencez par en ajouter une nouvelle</p>
    <a href="{{ url_for('add_exhibition') }}" class="admin-btn admin-btn-primary" style="margin-top: 16px;">+ Ajouter une exposition</a>
</div>
{% endif %}

{% endblock %}
