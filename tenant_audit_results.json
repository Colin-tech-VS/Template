{
  "total_queries": 131,
  "queries_with_tenant": 128,
  "queries_without_tenant": 3,
  "issues": [
    {
      "line": 86,
      "route": "startup",
      "function": "invalidate_all_settings_cache",
      "operation": null,
      "tables": [],
      "query_preview": "execute_query,",
      "severity": "MEDIUM"
    },
    {
      "line": 4277,
      "route": "/admin/users",
      "function": "admin_users",
      "operation": null,
      "tables": [
        "users",
        "notifications"
      ],
      "query_preview": "c.execute(query, params)",
      "severity": "MEDIUM"
    },
    {
      "line": 4319,
      "route": "/admin/users/export",
      "function": "export_users",
      "operation": null,
      "tables": [
        "users"
      ],
      "query_preview": "c.execute(query, params)",
      "severity": "MEDIUM"
    }
  ],
  "routes": {
    "startup": {
      "queries": 1,
      "with_tenant": 0,
      "issues": [
        {
          "line": 86,
          "route": "startup",
          "function": "invalidate_all_settings_cache",
          "operation": null,
          "tables": [],
          "query_preview": "execute_query,",
          "severity": "MEDIUM"
        }
      ]
    },
    "/api/export/settings/<key>": {
      "queries": 0,
      "with_tenant": 0,
      "issues": []
    },
    "/api/export/settings": {
      "queries": 0,
      "with_tenant": 0,
      "issues": []
    },
    "/api/template/config": {
      "queries": 0,
      "with_tenant": 0,
      "issues": []
    },
    "/api/sites/<site_name>/stripe-key": {
      "queries": 0,
      "with_tenant": 0,
      "issues": []
    },
    "/webhook/stripe": {
      "queries": 18,
      "with_tenant": 18,
      "issues": []
    },
    "/": {
      "queries": 2,
      "with_tenant": 2,
      "issues": []
    },
    "/about": {
      "queries": 1,
      "with_tenant": 1,
      "issues": []
    },
    "/boutique": {
      "queries": 0,
      "with_tenant": 0,
      "issues": []
    },
    "/register": {
      "queries": 4,
      "with_tenant": 4,
      "issues": []
    },
    "/api/register-preview": {
      "queries": 8,
      "with_tenant": 8,
      "issues": []
    },
    "/api/login-preview": {
      "queries": 3,
      "with_tenant": 3,
      "issues": []
    },
    "/login": {
      "queries": 3,
      "with_tenant": 3,
      "issues": []
    },
    "/api/session-info": {
      "queries": 0,
      "with_tenant": 0,
      "issues": []
    },
    "/logout": {
      "queries": 0,
      "with_tenant": 0,
      "issues": []
    },
    "/expositions": {
      "queries": 1,
      "with_tenant": 1,
      "issues": []
    },
    "/creations-sur-mesure": {
      "queries": 0,
      "with_tenant": 0,
      "issues": []
    },
    "/creations-sur-mesure/submit": {
      "queries": 3,
      "with_tenant": 3,
      "issues": []
    },
    "/expo_detail/<int:expo_id>": {
      "queries": 1,
      "with_tenant": 1,
      "issues": []
    },
    "/admin/custom-requests": {
      "queries": 7,
      "with_tenant": 7,
      "issues": []
    },
    "/admin/custom-requests/<int:request_id>/status": {
      "queries": 1,
      "with_tenant": 1,
      "issues": []
    },
    "/admin/custom-requests/<int:request_id>/delete": {
      "queries": 2,
      "with_tenant": 2,
      "issues": []
    },
    "/admin/exhibitions": {
      "queries": 1,
      "with_tenant": 1,
      "issues": []
    },
    "/admin/exhibitions/add": {
      "queries": 1,
      "with_tenant": 1,
      "issues": []
    },
    "/admin/exhibitions/edit/<int:exhibition_id>": {
      "queries": 2,
      "with_tenant": 2,
      "issues": []
    },
    "/admin/exhibitions/remove/<int:exhibition_id>": {
      "queries": 2,
      "with_tenant": 2,
      "issues": []
    },
    "/add_to_cart/<int:painting_id>": {
      "queries": 4,
      "with_tenant": 4,
      "issues": []
    },
    "/decrease_from_cart/<int:painting_id>": {
      "queries": 3,
      "with_tenant": 3,
      "issues": []
    },
    "/remove_from_cart/<int:painting_id>": {
      "queries": 1,
      "with_tenant": 1,
      "issues": []
    },
    "/panier": {
      "queries": 1,
      "with_tenant": 1,
      "issues": []
    },
    "/checkout": {
      "queries": 1,
      "with_tenant": 1,
      "issues": []
    },
    "/checkout_success": {
      "queries": 4,
      "with_tenant": 4,
      "issues": []
    },
    "/admin/settings": {
      "queries": 0,
      "with_tenant": 0,
      "issues": []
    },
    "/orders": {
      "queries": 2,
      "with_tenant": 2,
      "issues": []
    },
    "/admin/add": {
      "queries": 6,
      "with_tenant": 6,
      "issues": []
    },
    "/admin/notifications": {
      "queries": 1,
      "with_tenant": 1,
      "issues": []
    },
    "/admin/notifications/read/<int:notif_id>": {
      "queries": 2,
      "with_tenant": 2,
      "issues": []
    },
    "/galerie": {
      "queries": 1,
      "with_tenant": 1,
      "issues": []
    },
    "/api/reorder_paintings": {
      "queries": 1,
      "with_tenant": 1,
      "issues": []
    },
    "/painting/<int:painting_id>": {
      "queries": 3,
      "with_tenant": 3,
      "issues": []
    },
    "/contact": {
      "queries": 0,
      "with_tenant": 0,
      "issues": []
    },
    "/profile": {
      "queries": 4,
      "with_tenant": 4,
      "issues": []
    },
    "/download_invoice/<int:order_id>": {
      "queries": 0,
      "with_tenant": 0,
      "issues": []
    },
    "/add_favorite/<int:painting_id>": {
      "queries": 3,
      "with_tenant": 3,
      "issues": []
    },
    "/remove_favorite/<int:painting_id>": {
      "queries": 1,
      "with_tenant": 1,
      "issues": []
    },
    "/is_favorite/<int:painting_id>": {
      "queries": 1,
      "with_tenant": 1,
      "issues": []
    },
    "/admin": {
      "queries": 9,
      "with_tenant": 9,
      "issues": []
    },
    "/admin/api-export": {
      "queries": 0,
      "with_tenant": 0,
      "issues": []
    },
    "/admin/paintings": {
      "queries": 0,
      "with_tenant": 0,
      "issues": []
    },
    "/admin/painting/remove/<int:painting_id>": {
      "queries": 1,
      "with_tenant": 1,
      "issues": []
    },
    "/admin/painting/edit/<int:painting_id>": {
      "queries": 2,
      "with_tenant": 2,
      "issues": []
    },
    "/admin/painting/delete/<int:painting_id>": {
      "queries": 2,
      "with_tenant": 2,
      "issues": []
    },
    "/admin/orders": {
      "queries": 3,
      "with_tenant": 3,
      "issues": []
    },
    "/order/<int:order_id>": {
      "queries": 2,
      "with_tenant": 2,
      "issues": []
    },
    "/admin/order/<int:order_id>/status/<status>": {
      "queries": 1,
      "with_tenant": 1,
      "issues": []
    },
    "/admin/orders/<int:order_id>": {
      "queries": 2,
      "with_tenant": 2,
      "issues": []
    },
    "/admin/users": {
      "queries": 1,
      "with_tenant": 0,
      "issues": [
        {
          "line": 4277,
          "route": "/admin/users",
          "function": "admin_users",
          "operation": null,
          "tables": [
            "users",
            "notifications"
          ],
          "query_preview": "c.execute(query, params)",
          "severity": "MEDIUM"
        }
      ]
    },
    "/admin/users/export": {
      "queries": 1,
      "with_tenant": 0,
      "issues": [
        {
          "line": 4319,
          "route": "/admin/users/export",
          "function": "export_users",
          "operation": null,
          "tables": [
            "users"
          ],
          "query_preview": "c.execute(query, params)",
          "severity": "MEDIUM"
        }
      ]
    },
    "/admin/user/<int:user_id>/role": {
      "queries": 2,
      "with_tenant": 2,
      "issues": []
    },
    "/admin/send_email_role": {
      "queries": 1,
      "with_tenant": 1,
      "issues": []
    },
    "/dynamic-colors.css": {
      "queries": 0,
      "with_tenant": 0,
      "issues": []
    },
    "/api/export/full": {
      "queries": 0,
      "with_tenant": 0,
      "issues": []
    },
    "/api/export/orders": {
      "queries": 0,
      "with_tenant": 0,
      "issues": []
    },
    "/api/export/users": {
      "queries": 0,
      "with_tenant": 0,
      "issues": []
    },
    "/api/export/paintings": {
      "queries": 0,
      "with_tenant": 0,
      "issues": []
    },
    "/api/export/exhibitions": {
      "queries": 0,
      "with_tenant": 0,
      "issues": []
    },
    "/api/export/custom-requests": {
      "queries": 0,
      "with_tenant": 0,
      "issues": []
    },
    "/api/export/stats": {
      "queries": 0,
      "with_tenant": 0,
      "issues": []
    },
    "/api/export/settings/stripe_publishable_key": {
      "queries": 0,
      "with_tenant": 0,
      "issues": []
    },
    "/api/export/settings/stripe_secret_key": {
      "queries": 0,
      "with_tenant": 0,
      "issues": []
    },
    "/api/export/settings/stripe_price_id": {
      "queries": 0,
      "with_tenant": 0,
      "issues": []
    },
    "/api/stripe-pk": {
      "queries": 0,
      "with_tenant": 0,
      "issues": []
    },
    "/api/upload/image": {
      "queries": 0,
      "with_tenant": 0,
      "issues": []
    },
    "/api/export/api-key": {
      "queries": 0,
      "with_tenant": 0,
      "issues": []
    },
    "/api/export/regenerate-key": {
      "queries": 4,
      "with_tenant": 4,
      "issues": []
    },
    "/saas/apply": {
      "queries": 0,
      "with_tenant": 0,
      "issues": []
    },
    "/saas/approve/<int:user_id>": {
      "queries": 0,
      "with_tenant": 0,
      "issues": []
    },
    "/saas/paid/<int:user_id>": {
      "queries": 0,
      "with_tenant": 0,
      "issues": []
    },
    "/saas/domain/<int:user_id>": {
      "queries": 0,
      "with_tenant": 0,
      "issues": []
    },
    "/saas/clone/<int:user_id>": {
      "queries": 0,
      "with_tenant": 0,
      "issues": []
    },
    "/saas/activate/<int:user_id>": {
      "queries": 0,
      "with_tenant": 0,
      "issues": []
    },
    "/saas/launch-site": {
      "queries": 0,
      "with_tenant": 0,
      "issues": []
    },
    "/saas/launch/success": {
      "queries": 0,
      "with_tenant": 0,
      "issues": []
    },
    "/api/saas/register-site": {
      "queries": 0,
      "with_tenant": 0,
      "issues": []
    }
  },
  "by_table": {
    "notifications": {
      "total": 10,
      "with_tenant": 9,
      "without_tenant": 1
    },
    "carts": {
      "total": 19,
      "with_tenant": 19,
      "without_tenant": 0
    },
    "users": {
      "total": 28,
      "with_tenant": 26,
      "without_tenant": 2
    },
    "cart_items": {
      "total": 18,
      "with_tenant": 18,
      "without_tenant": 0
    },
    "paintings": {
      "total": 33,
      "with_tenant": 33,
      "without_tenant": 0
    },
    "saas_sites": {
      "total": 8,
      "with_tenant": 8,
      "without_tenant": 0
    },
    "exhibitions": {
      "total": 8,
      "with_tenant": 8,
      "without_tenant": 0
    },
    "custom_requests": {
      "total": 12,
      "with_tenant": 12,
      "without_tenant": 0
    },
    "orders": {
      "total": 21,
      "with_tenant": 21,
      "without_tenant": 0
    },
    "order_items": {
      "total": 8,
      "with_tenant": 8,
      "without_tenant": 0
    },
    "favorites": {
      "total": 7,
      "with_tenant": 7,
      "without_tenant": 0
    }
  }
}